@import '../styles/mobile.css';
@import '../styles/transitions.css';

/* Optimized skeleton animations for smooth performance */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes shimmer-medical {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes skeleton-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes medical-skeleton-pulse {
  0%,
  100% {
    opacity: 1;
    background-color: #f0f4ff;
  }
  50% {
    opacity: 0.8;
    background-color: #e6efff;
  }
}

/* Hardware acceleration for smooth animations - iOS-safe version */
.skeleton-optimized {
  will-change: background-position;
  /* Removed translateZ(0) and backface-visibility: hidden for iOS compatibility */
  contain: layout style;
}

/* iOS-specific skeleton optimizations */
@supports (-webkit-touch-callout: none) {
  .skeleton-optimized {
    /* Further reduce hardware acceleration on iOS */
    will-change: auto;
    contain: none;
  }
}

/* Medical skeleton shimmer effect with healthcare colors */
.skeleton-shimmer {
  position: relative;
  overflow: hidden;
  background: linear-gradient(90deg, #f0f4ff 25%, #e6efff 50%, #f0f4ff 75%);
  background-size: 200% 100%;
  animation: shimmer-medical 1.5s infinite linear;
}

/* Medical skeleton variants */
.skeleton-medical-primary {
  background: linear-gradient(90deg, #f0f4ff 25%, #e6efff 50%, #f0f4ff 75%);
  background-size: 200% 100%;
  animation: shimmer-medical 1.5s infinite linear;
}

.skeleton-medical-secondary {
  background: linear-gradient(90deg, #f0fdf9 25%, #e6fffa 50%, #f0fdf9 75%);
  background-size: 200% 100%;
  animation: shimmer-medical 1.5s infinite linear;
}

.skeleton-medical-neutral {
  background: linear-gradient(90deg, #fafbfc 25%, #f8f9fb 50%, #fafbfc 75%);
  background-size: 200% 100%;
  animation: shimmer-medical 1.5s infinite linear;
}

:root {
  /* Enhanced Medical Color System - Premium Hospital Grade */

  /* Primary Medical Blue Colors - Trust & Professionalism */
  --color-primary: #2563eb; /* Primary medical blue - main brand color */
  --color-primary-hover: #1e40af; /* Primary hover state */
  --color-primary-active: #1d4ed8; /* Primary active state */
  --color-primary-light: #dbeafe; /* Light primary background */
  --color-primary-dark: #1e3a8a; /* Dark primary for emphasis */
  --color-primary-50: #eff6ff; /* Ultra light medical background */
  --color-primary-100: #dbeafe; /* Light medical background */
  --color-primary-200: #bfdbfe; /* Light medical border */
  --color-primary-300: #93c5fd; /* Medium light medical */
  --color-primary-400: #60a5fa; /* Medium medical */
  --color-primary-500: #2563eb; /* Primary medical blue */
  --color-primary-600: #1e40af; /* Dark medical blue */
  --color-primary-700: #1d4ed8; /* Darker medical blue */
  --color-primary-800: #1e3a8a; /* Very dark medical blue */
  --color-primary-900: #1e293b; /* Darkest medical blue */

  /* Secondary Healing Green Colors - Health & Recovery */
  --color-secondary: #10b981; /* Primary healing green */
  --color-secondary-hover: #059669; /* Secondary hover state */
  --color-secondary-light: #d1fae5; /* Light secondary background */
  --color-secondary-dark: #065f46; /* Dark secondary for emphasis */
  --color-secondary-50: #ecfdf5; /* Ultra light healing background */
  --color-secondary-100: #d1fae5; /* Light healing background */
  --color-secondary-200: #a7f3d0; /* Light healing border */
  --color-secondary-300: #6ee7b7; /* Medium light healing */
  --color-secondary-400: #34d399; /* Medium healing */
  --color-secondary-500: #10b981; /* Primary healing green */
  --color-secondary-600: #059669; /* Dark healing green */
  --color-secondary-700: #047857; /* Darker healing green */
  --color-secondary-800: #065f46; /* Very dark healing green */
  --color-secondary-900: #064e3b; /* Darkest healing green */

  /* Trust & Communication Cyan Colors - Enhanced Professional Medical Services */
  --color-accent: #0891b2; /* Primary trust cyan */
  --color-accent-hover: #0e7490; /* Accent hover state */
  --color-accent-active: #155e75; /* Accent active state */
  --color-accent-light: #cffafe; /* Light accent background */
  --color-accent-dark: #164e63; /* Dark accent for emphasis */
  --color-accent-50: #f0fdff; /* Ultra light trust background */
  --color-accent-100: #cffafe; /* Light trust background */
  --color-accent-200: #a5f3fc; /* Light trust border */
  --color-accent-300: #67e8f9; /* Medium light trust */
  --color-accent-400: #22d3ee; /* Medium trust */
  --color-accent-500: #0891b2; /* Primary trust cyan */
  --color-accent-600: #0e7490; /* Dark trust cyan */
  --color-accent-700: #155e75; /* Darker trust cyan */
  --color-accent-800: #164e63; /* Very dark trust cyan */
  --color-accent-900: #083344; /* Darkest trust cyan */

  /* Enhanced Medical Background Colors - Premium Hospital Environment */
  --color-background: #ffffff; /* Pure hospital white */
  --color-background-secondary: #fafbfc; /* Soft white background */
  --color-background-tertiary: #f8fafc; /* Very light background */
  --color-background-quaternary: #f1f5f9; /* Subtle medical gray */
  --color-background-elevated: #ffffff; /* Elevated surfaces */
  --color-background-overlay: rgba(0, 0, 0, 0.5); /* Modal overlays */
  --color-background-medical: #fefefe; /* Slightly warm white for comfort */
  --color-background-clinical: #fdfdfe; /* Cool white for clinical areas */
  --color-background-emergency: #fef2f2; /* Emergency background */
  --color-background-success: #ecfdf5; /* Success background */

  /* Surface Colors - Clean Medical Surfaces */
  --color-surface: #ffffff; /* Pure white surfaces */
  --color-surface-elevated: #ffffff; /* Elevated surfaces */
  --color-surface-hover: #f1f5f9; /* Hover state surfaces */
  --color-surface-medical: #f0fdf4; /* Medical section surfaces */

  /* Border Colors - Professional Medical Borders */
  --color-border: #e2e8f0; /* Default border */
  --color-border-light: #f1f5f9; /* Light border */
  --color-border-strong: #cbd5e1; /* Strong border */
  --color-border-focus: #2563eb; /* Focus border */
  --color-border-error: #dc2626; /* Error border */

  /* Text Colors - Medical Typography */
  --color-text-primary: #475569; /* Primary text - excellent readability */
  --color-text-secondary: #64748b; /* Secondary text */
  --color-text-muted: #94a3b8; /* Muted text */
  --color-text-disabled: #cbd5e1; /* Disabled text */
  --color-text-inverse: #ffffff; /* White text for dark backgrounds */
  --color-text-on-primary: #ffffff; /* Text on primary background */
  --color-text-on-secondary: #ffffff; /* Text on secondary background */

  /* Semantic State Colors */
  --color-success: #22c55e; /* Success green */
  --color-success-light: #f0fdf4; /* Light success background */
  --color-success-hover: #16a34a; /* Success hover state */

  --color-warning: #f59e0b; /* Warning amber */
  --color-warning-light: #fffbeb; /* Light warning background */
  --color-warning-hover: #d97706; /* Warning hover state */

  --color-error: #dc2626; /* Error red */
  --color-error-light: #fef2f2; /* Light error background */
  --color-error-hover: #b91c1c; /* Error hover state */

  --color-info: #0ea5e9; /* Info blue */
  --color-info-light: #f0f9ff; /* Light info background */
  --color-info-hover: #0284c7; /* Info hover state */

  /* Enhanced Medical Typography System - Premium Hospital Grade */
  --font-family-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --font-family-medical: 'SF Pro Display', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-family-mono: 'SF Mono', 'JetBrains Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
  --font-family-display: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;

  /* Medical Typography Scale - Hospital-Grade Hierarchy */
  --font-size-hero: 2.5rem; /* 40px - Hero headings, main banners */
  --font-size-hero-mobile: 2rem; /* 32px - Hero on mobile devices */
  --font-size-h1: 2rem; /* 32px - Page titles, main headers */
  --font-size-h1-mobile: 1.75rem; /* 28px - H1 on mobile */
  --font-size-h2: 1.5rem; /* 24px - Section headers */
  --font-size-h2-mobile: 1.375rem; /* 22px - H2 on mobile */
  --font-size-h3: 1.25rem; /* 20px - Subsection headers */
  --font-size-h3-mobile: 1.125rem; /* 18px - H3 on mobile */
  --font-size-body: 1rem; /* 16px - Regular body text */
  --font-size-body-large: 1.125rem; /* 18px - Large body text */
  --font-size-body-small: 0.875rem; /* 14px - Small body text */
  --font-size-caption: 0.875rem; /* 14px - Captions, secondary info */
  --font-size-label: 0.875rem; /* 14px - Form labels, UI labels */
  --font-size-button: 0.875rem; /* 14px - Button text */
  --font-size-medical-data: 1rem; /* 16px - Medical data display */
  --font-size-emergency: 1.125rem; /* 18px - Emergency text */

  /* Medical Font Weights - Professional Hierarchy */
  --font-weight-light: 300; /* Light text for subtle information */
  --font-weight-normal: 400; /* Regular body text */
  --font-weight-medium: 500; /* Emphasis, important information */
  --font-weight-semibold: 600; /* Section headers, medical labels */
  --font-weight-bold: 700; /* Strong emphasis, alerts */
  --font-weight-extrabold: 800; /* Emergency, critical information */

  /* Medical Line Heights - Optimized for Readability */
  --line-height-tight: 1.25; /* Tight spacing for headers */
  --line-height-normal: 1.5; /* Standard reading line height */
  --line-height-relaxed: 1.625; /* Relaxed for long-form content */
  --line-height-medical-data: 1.4; /* Medical data display */
  --line-height-emergency: 1.3; /* Emergency information */

  /* Medical Letter Spacing - Professional Appearance */
  --letter-spacing-tighter: -0.05em; /* Tighter for large headers */
  --letter-spacing-tight: -0.025em; /* Slightly tight for headers */
  --letter-spacing-normal: 0em; /* Normal spacing */
  --letter-spacing-wide: 0.025em; /* Wide for labels */
  --letter-spacing-medical-label: 0.025em; /* Medical labels */
  --letter-spacing-emergency: 0.05em; /* Emergency text */

  /* Enhanced Medical Iconography System - Premium Hospital Icons */
  --icon-size-xs: 12px; /* Micro icons, indicators */
  --icon-size-sm: 16px; /* Small icons, inline text */
  --icon-size-md: 20px; /* Standard icons, buttons */
  --icon-size-lg: 24px; /* Large icons, headers */
  --icon-size-xl: 32px; /* Extra large icons, features */
  --icon-size-2xl: 40px; /* Hero icons, main features */
  --icon-size-3xl: 48px; /* Large feature icons */
  --icon-size-4xl: 64px; /* Department icons, major features */
  --icon-size-vital: 28px; /* Vital signs display */
  --icon-size-emergency: 36px; /* Emergency indicators */
  --icon-size-department: 48px; /* Department icons */
  --icon-size-hero: 64px; /* Hero section icons */
  --icon-size-touch: 44px; /* Touch-friendly icon buttons */
  --icon-size-touch-large: 56px; /* Large touch targets */

  /* Medical Icon Colors - Context-Aware */
  --icon-color-primary: #2563eb; /* Medical blue */
  --icon-color-secondary: #10b981; /* Healing green */
  --icon-color-accent: #0891b2; /* Trust cyan */
  --icon-color-success: #10b981; /* Success green */
  --icon-color-warning: #f59e0b; /* Warning amber */
  --icon-color-error: #dc2626; /* Error red */
  --icon-color-info: #2563eb; /* Info blue */
  --icon-color-emergency: #dc2626; /* Emergency red */
  --icon-color-critical: #b91c1c; /* Critical dark red */
  --icon-color-stable: #10b981; /* Stable green */
  --icon-color-monitoring: #f59e0b; /* Monitoring amber */
  --icon-color-neutral: #6b7280; /* Neutral gray */
  --icon-color-muted: #9ca3af; /* Muted gray */
  --icon-color-disabled: #d1d5db; /* Disabled gray */

  /* Department-Specific Icon Colors */
  --icon-color-cardiology: #ef4444; /* Heart red */
  --icon-color-neurology: #8b5cf6; /* Brain purple */
  --icon-color-orthopedics: #f97316; /* Bone orange */
  --icon-color-pediatrics: #06b6d4; /* Child cyan */
  --icon-color-oncology: #ec4899; /* Cancer pink */

  /* Status Colors for Medical Context - Enhanced with Better Contrast */
  --success: #059669; /* Success green - matches secondary */
  --success-light: #dcfce7; /* Light success background */
  --success-dark: #047857; /* Dark success */
  --warning: #d97706; /* Warning amber - medical caution */
  --warning-light: #fef3c7; /* Light warning background */
  --warning-dark: #92400e; /* Dark warning */
  --error: #dc2626; /* Error red - medical alert */
  --error-light: #fee2e2; /* Light error background */
  --error-dark: #991b1b; /* Dark error */
  --info: #0891b2; /* Info cyan - matches accent */
  --info-light: #e0f2fe; /* Light info background */
  --info-dark: #0e7490; /* Dark info */

  /* Semantic Medical Colors - Enhanced */
  --emergency: #dc2626; /* Emergency red */
  --emergency-light: #fef2f2; /* Light emergency background */
  --urgent: #f59e0b; /* Urgent amber */
  --urgent-light: #fffbeb; /* Light urgent background */
  --routine: #10b981; /* Routine green */
  --routine-light: #ecfdf5; /* Light routine background */
  --consultation: #6366f1; /* Consultation purple */
  --consultation-light: #eef2ff; /* Light consultation background */

  /* Enhanced Highlights and Shadows */
  --highlight: rgba(0, 102, 204, 0.08); /* Primary highlight */
  --highlight-secondary: rgba(0, 168, 107, 0.08); /* Secondary highlight */
  --highlight-hover: rgba(0, 102, 204, 0.12); /* Hover highlight */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
  --shadow-medical: 0 2px 8px rgba(0, 102, 204, 0.15);
  --shadow-medical-hover: 0 8px 24px rgba(0, 102, 204, 0.2);

  /* Enhanced Medical Animation Timing */
  --medical-transition-fast: 0.15s; /* Fast transitions for immediate feedback */
  --medical-transition-normal: 0.3s; /* Normal transitions for UI elements */
  --medical-transition-gentle: 0.4s; /* Gentle transitions for medical contexts */
  --medical-transition-slow: 0.5s; /* Slow transitions for complex animations */
  --medical-ease: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Medical-appropriate easing */
  --medical-ease-bounce: cubic-bezier(0.34, 1.26, 0.64, 1); /* Gentle bounce for medical context */
  --medical-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1); /* Smooth in-out for medical animations */
  --medical-ease-out: cubic-bezier(0, 0, 0.2, 1); /* Smooth out for exit animations */
  --medical-ease-in: cubic-bezier(0.4, 0, 1, 1); /* Smooth in for enter animations */

  /* Medical Touch Targets */
  --touch-target-min: 44px; /* Minimum touch target size for accessibility */
  --touch-target-comfortable: 48px; /* Comfortable touch target size */
  --touch-target-large: 56px; /* Large touch target for critical actions */

  /* Medical Spacing Scale */
  --spacing-medical-xs: 4px; /* Extra small spacing */
  --spacing-medical-sm: 8px; /* Small spacing */
  --spacing-medical-md: 16px; /* Medium spacing */
  --spacing-medical-lg: 24px; /* Large spacing */
  --spacing-medical-xl: 32px; /* Extra large spacing */
  --spacing-medical-2xl: 48px; /* 2X large spacing */

  /* Medical Border Radius */
  --radius-medical-sm: 6px; /* Small radius for subtle rounding */
  --radius-medical-md: 12px; /* Medium radius for cards */
  --radius-medical-lg: 16px; /* Large radius for prominent elements */
  --radius-medical-xl: 24px; /* Extra large radius for hero elements */

  /* ZaUI Integration - Hospital Theme */
  --zaui-light-body-background-color: var(--background);
  --zaui-light-input-border-color: var(--border);
  --zaui-light-input-hover-border-color: var(--primary-500);
  --zaui-light-option-selected-color: var(--primary-500);
  --zaui-light-radio-checked-background: var(--primary-500);

  /* Safe Areas - Enhanced for better mobile compatibility */
  --safe-top: var(--zaui-safe-area-inset-top, env(safe-area-inset-top, 44px));
  --safe-bottom: max(8px, var(--zaui-safe-area-inset-bottom, env(safe-area-inset-bottom, 30px)));

  /* Medical-specific spacing and sizing - Enhanced */
  --touch-target: 44px; /* Minimum touch target for accessibility */
  --touch-target-lg: 56px; /* Large touch target for primary actions */
  --spacing-xs: 4px; /* Extra small spacing */
  --spacing-sm: 8px; /* Small spacing */
  --spacing-md: 16px; /* Medium spacing - base unit */
  --spacing-lg: 24px; /* Large spacing */
  --spacing-xl: 32px; /* Extra large spacing */
  --spacing-2xl: 48px; /* 2x large spacing */
  --spacing-3xl: 64px; /* 3x large spacing */

  /* Border radius system */
  --border-radius-xs: 4px; /* Extra small border radius */
  --border-radius-sm: 8px; /* Small border radius */
  --border-radius-md: 12px; /* Medium border radius */
  --border-radius-lg: 16px; /* Large border radius */
  --border-radius-xl: 20px; /* Extra large border radius */
  --border-radius-2xl: 24px; /* 2x large border radius */
  --border-radius-full: 9999px; /* Full border radius */

  /* Animation timing for medical workflows - Enhanced */
  --transition-fast: 150ms; /* Fast transitions for immediate feedback */
  --transition-normal: 300ms; /* Normal transitions - medical standard */
  --transition-slow: 500ms; /* Slower transitions for important changes */
  --transition-gentle: 400ms; /* Gentle transitions for medical UI */
  --ease-medical: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Smooth medical easing */
  --ease-medical-in: cubic-bezier(0.32, 0, 0.67, 0); /* Medical ease in */
  --ease-medical-out: cubic-bezier(0.33, 1, 0.68, 1); /* Medical ease out */
  --ease-medical-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Gentle bounce */

  /* Medical component specific variables */
  --card-padding-sm: var(--spacing-md); /* Small card padding */
  --card-padding-md: var(--spacing-lg); /* Medium card padding */
  --card-padding-lg: var(--spacing-xl); /* Large card padding */
  --input-height-sm: 40px; /* Small input height */
  --input-height-md: 48px; /* Medium input height */
  --input-height-lg: 56px; /* Large input height */
  --button-height-sm: 36px; /* Small button height */
  --button-height-md: 44px; /* Medium button height */
  --button-height-lg: 52px; /* Large button height */

  /* Medical status indicator sizes */
  --status-indicator-sm: 8px; /* Small status indicator */
  --status-indicator-md: 12px; /* Medium status indicator */
  --status-indicator-lg: 16px; /* Large status indicator */

  /* Medical icon sizes */
  --icon-xs: 12px; /* Extra small icon */
  --icon-sm: 16px; /* Small icon */
  --icon-md: 20px; /* Medium icon */
  --icon-lg: 24px; /* Large icon */
  --icon-xl: 32px; /* Extra large icon */
  --icon-2xl: 48px; /* 2x large icon */
}

:not(input):not(textarea) {
  -webkit-user-select: none;
  user-select: none;
}

.zaui-select {
  &.zaui-input-affix-wrapper,
  .zaui-input-affix-wrapper {
    border-radius: 100px;
  }
}

.zaui-input-textarea-affix-wrapper {
  &.zaui-input-affix-wrapper {
    border: none;
  }

  .zaui-input-show-count-suffix {
    border-radius: 10px;
    background: #f3f3f3;
    padding: 2px 6px;
    font-size: 10px;
    color: #656565;
  }

  .zaui-input-textarea ~ .zaui-input-suffix .zaui-input-show-count-suffix {
    bottom: 0;
    right: 0;
  }
}

.zaui-sheet-content {
  max-height: calc(100vh - 200px);
}

/* Animation for quick access menu */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out forwards;
}

/* Slide up animation */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out forwards;
}

/* Slide down animation */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-down {
  animation: slideDown 0.3s ease-out forwards;
}

/* Slide left animation */
@keyframes slideLeft {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-left {
  animation: slideLeft 0.3s ease-out forwards;
}

/* Slide right animation */
@keyframes slideRight {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-right {
  animation: slideRight 0.3s ease-out forwards;
}

.footer-border {
  border-top: 1px solid rgba(0, 0, 0, 0.05);
}

.footer-nav-item {
  position: relative;
  overflow: hidden;
}

.footer-nav-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--primary);
  border-radius: 12px;
  opacity: 0;
  transform: scale(0.5);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: -1;
}

.footer-nav-item:active::before {
  opacity: 0.08;
  transform: scale(1);
}

.footer-wave {
  filter: drop-shadow(0px -2px 3px rgba(0, 0, 0, 0.03));
}

.shadow-footer {
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
}

// Circular nav animations
@keyframes nav-pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.08);
  }
  100% {
    transform: scale(1);
  }
}

.active-nav-item {
  animation: nav-pulse 0.6s ease-in-out;
}

/* Enhanced Medical UI Animations & Accessibility */

// Medical loading animations
@keyframes medical-loading {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

// Enhanced accessibility for reduced motion
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .medical-loading,
  .medical-pulse,
  .medical-heartbeat,
  .emergency-pulse,
  .skeleton-shimmer,
  .skeleton-medical-primary,
  .skeleton-medical-secondary,
  .skeleton-medical-neutral,
  .animate-shimmer-medical,
  .animate-medical-pulse,
  .animate-skeleton-fast,
  .animate-skeleton-slow {
    animation: none !important;
    background: #F0F4FF !important; /* Fallback to static medical blue */
  }
}

// User preference for reduced motion
.reduce-motion *,
.reduce-motion *::before,
.reduce-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

.reduce-motion .skeleton-shimmer,
.reduce-motion .skeleton-medical-primary,
.reduce-motion .skeleton-medical-secondary,
.reduce-motion .skeleton-medical-neutral {
  animation: none !important;
  background: #F0F4FF !important;
}

// High contrast mode support
@media (prefers-contrast: high) {
  .skeleton-shimmer,
  .skeleton-medical-primary,
  .skeleton-medical-secondary,
  .skeleton-medical-neutral {
    background: #E6EFFF !important;
    border: 2px solid #2563EB !important;
  }
}

.high-contrast .skeleton-shimmer,
.high-contrast .skeleton-medical-primary,
.high-contrast .skeleton-medical-secondary,
.high-contrast .skeleton-medical-neutral {
  background: #E6EFFF !important;
  border: 2px solid #2563EB !important;
}

@keyframes medical-skeleton {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

/* Tailwind animation utilities for medical skeletons */
.animate-shimmer-medical {
  animation: shimmer-medical 1.5s infinite linear;
}

.animate-medical-pulse {
  animation: medical-skeleton-pulse 2s infinite ease-in-out;
}

.animate-skeleton-fast {
  animation: shimmer-medical 1s infinite linear;
}

.animate-skeleton-slow {
  animation: shimmer-medical 2s infinite linear;
}

@keyframes medical-pulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.05);
  }
}

@keyframes medical-heartbeat {
  0%,
  100% {
    transform: scale(1);
  }
  14% {
    transform: scale(1.1);
  }
  28% {
    transform: scale(1);
  }
  42% {
    transform: scale(1.1);
  }
  70% {
    transform: scale(1);
  }
}

@keyframes medical-fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes medical-slide-in-right {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes medical-scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

// Medical animation classes
.medical-loading {
  animation: medical-loading 1s linear infinite;
}

.medical-pulse {
  animation: medical-pulse 2s ease-in-out infinite;
}

.medical-heartbeat {
  animation: medical-heartbeat 1.5s ease-in-out infinite;
}

.medical-fade-in {
  animation: medical-fade-in var(--medical-transition-gentle) var(--medical-ease-out) forwards;
}

.medical-slide-in-right {
  animation: medical-slide-in-right var(--medical-transition-normal) var(--medical-ease-out) forwards;
}

.medical-scale-in {
  animation: medical-scale-in var(--medical-transition-fast) var(--medical-ease-out) forwards;
}

// Medical hover effects
.medical-card-hover {
  transition: all var(--medical-transition-normal) var(--medical-ease);

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medical-hover);
  }

  &:active {
    transform: translateY(0);
    transition-duration: var(--medical-transition-fast);
  }
}

// Enhanced medical focus styles with accessibility
.medical-focus {
  &:focus {
    outline: 3px solid var(--primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 1px var(--primary-light);
  }

  &:focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
  }

  &:focus-visible {
    outline: 3px solid var(--primary);
    outline-offset: 2px;
    box-shadow: 0 0 0 1px var(--primary-light);
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .medical-focus:focus,
  .medical-focus:focus-visible {
    outline: 4px solid var(--primary-dark);
    outline-offset: 3px;
    box-shadow: 0 0 0 2px var(--primary);
  }

  .medical-card,
  .btn-medical,
  .btn-emergency {
    border: 2px solid var(--primary-dark);
  }

  .emergency-pulse::before {
    opacity: 0.8;
  }
}

// Screen reader only content
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// Skip to content link
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--primary);
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;

  &:focus {
    top: 6px;
  }
}

// Vietnamese text support - Medical-optimized
html[lang='vi'] {
  font-family: var(--font-family-primary);

  // Better line height for Vietnamese medical text
  line-height: 1.6;

  // Improved letter spacing for Vietnamese characters
  letter-spacing: 0.01em;

  // Enhanced text rendering for medical content
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

// Medical terminology in Vietnamese
.medical-term-vi {
  font-weight: 500;
  color: var(--primary-dark);
}

// Emergency text in Vietnamese
.emergency-text-vi {
  font-weight: 600;
  color: var(--emergency);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

// Medical status text
.medical-status-vi {
  font-size: 0.875rem;
  font-weight: 500;

  &.available {
    color: var(--secondary-dark);
  }

  &.busy {
    color: var(--warning);
  }

  &.emergency {
    color: var(--emergency);
    animation: medical-pulse 1s ease-in-out infinite;
  }
}

// Emergency pulse animation
.emergency-pulse {
  animation: medical-pulse 1s ease-in-out infinite;

  &::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: var(--emergency);
    border-radius: inherit;
    opacity: 0.3;
    animation: medical-pulse 1s ease-in-out infinite;
    z-index: -1;
  }
}

.medical-skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200px 100%;
  animation: medical-skeleton 1.5s infinite;
}

// Gentle hover effects for medical cards
.medical-card {
  transition: all var(--transition-normal) var(--ease-medical);

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-card-hover);
  }

  &:active {
    transform: translateY(0);
    transition-duration: var(--transition-fast);
  }
}

// Focus states for accessibility
.medical-focus {
  &:focus {
    outline: none;
    box-shadow: var(--shadow-input-focus);
  }

  &:focus-visible {
    animation: focus-ring var(--transition-normal) var(--ease-medical);
  }
}

// Status indicator animations
@keyframes status-pulse {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.05);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

// Shimmer effect for loading images
// Note: shimmer keyframes already defined at the top of the file

.animate-shimmer {
  animation: shimmer 2s infinite;
}

// Enhanced medical card hover effects
.medical-card-enhanced {
  transition: all var(--transition-normal) var(--ease-medical);

  &:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 20px 40px rgba(0, 102, 204, 0.15);
  }

  &:active {
    transform: translateY(-2px) scale(1.01);
    transition-duration: var(--transition-fast);
  }
}

// Glass morphism effect
.glass-morphism {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

// Floating animation for decorative elements
@keyframes float {
  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }
  50% {
    transform: translateY(-10px) rotate(5deg);
  }
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

.status-indicator {
  &.emergency {
    animation: status-pulse 1s ease-in-out infinite;
    background-color: var(--emergency);
  }

  &.urgent {
    animation: status-pulse 2s ease-in-out infinite;
    background-color: var(--urgent);
  }

  &.routine {
    background-color: var(--routine);
  }
}

// Notification animations
@keyframes notification-enter {
  0% {
    transform: translateX(100%);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes notification-exit {
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

.notification-enter {
  animation: notification-enter 0.4s var(--ease-medical);
}

.notification-exit {
  animation: notification-exit 0.3s var(--ease-medical);
}

// Medical form animations
.form-field-enter {
  animation: fadeInUp 0.3s var(--ease-medical);
}

.form-error-shake {
  animation: shake 0.5s var(--ease-medical);
}

@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-2px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(2px);
  }
}

// Progress indicators for medical processes
@keyframes progress-fill {
  0% {
    width: 0%;
  }
  100% {
    width: var(--progress-width, 100%);
  }
}

.medical-progress {
  .progress-bar {
    animation: progress-fill 1s var(--ease-medical);
    background: linear-gradient(90deg, var(--primary), var(--primary-light));
  }
}

// Accessibility improvements
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  :root {
    --border: #000000;
    --text-muted: #000000;
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
  }
}

// Manual high contrast mode
.high-contrast {
  --primary: #0000ff;
  --secondary: #008000;
  --background: #ffffff;
  --surface: #ffffff;
  --text-primary: #000000;
  --text-secondary: #000000;
  --text-muted: #000000;
  --border: #000000;
  --border-light: #000000;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.3);

  // Ensure sufficient contrast for all interactive elements
  button,
  a,
  input,
  select,
  textarea {
    border: 2px solid #000000 !important;
  }

  // High contrast focus indicators
  .medical-focus:focus {
    outline: 3px solid #ff0000 !important;
    outline-offset: 2px !important;
  }
}

// Font size controls
[data-font-size='small'] {
  font-size: 14px;

  .text-xs {
    font-size: 10px;
  }
  .text-sm {
    font-size: 12px;
  }
  .text-base {
    font-size: 14px;
  }
  .text-lg {
    font-size: 16px;
  }
  .text-xl {
    font-size: 18px;
  }
  .text-2xl {
    font-size: 20px;
  }
}

[data-font-size='large'] {
  font-size: 18px;

  .text-xs {
    font-size: 14px;
  }
  .text-sm {
    font-size: 16px;
  }
  .text-base {
    font-size: 18px;
  }
  .text-lg {
    font-size: 20px;
  }
  .text-xl {
    font-size: 24px;
  }
  .text-2xl {
    font-size: 28px;
  }
}

// Screen reader only content
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only.focus:not(.sr-only) {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

// Enhanced focus indicators for medical UI
.medical-focus:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.3);
}

.medical-focus:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

// Skip to content link
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--primary);
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
  transition: top 0.3s;
}

.skip-to-content:focus {
  top: 6px;
}

// Focus trap styling
.focus-trap {
  isolation: isolate;
}

// Keyboard navigation indicators
[data-keyboard-navigation='true'] {
  .medical-focus:focus {
    box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.5);
  }
}

// Touch target improvements for accessibility
@media (pointer: coarse) {
  button,
  a,
  input,
  select,
  textarea {
    min-height: 44px;
    min-width: 44px;
  }

  .touch-target {
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* Enhanced Medical Animations - Premium Hospital Micro-Interactions */

/* Medical Heartbeat Animation */
/* Note: medical-heartbeat keyframes already defined earlier in the file */

.medical-heartbeat {
  animation: medical-heartbeat 2s ease-in-out infinite;
}

/* Medical Breathing Animation */
@keyframes medical-breathe {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
}

.medical-breathe {
  animation: medical-breathe 3s ease-in-out infinite;
}

/* Medical Pulse Animation for Status Indicators */
/* Note: medical-pulse keyframes already defined earlier in the file */

.medical-pulse {
  animation: medical-pulse 2s ease-in-out infinite;
}

/* Medical Glow Effect for Emergency Elements */
@keyframes medical-glow {
  0%,
  100% {
    box-shadow: 0 0 5px var(--color-emergency);
  }
  50% {
    box-shadow:
      0 0 20px var(--color-emergency),
      0 0 30px var(--color-emergency);
  }
}

.medical-glow {
  animation: medical-glow 2s ease-in-out infinite;
}

/* Medical Blink Animation for Alerts */
@keyframes medical-blink {
  0%,
  50% {
    opacity: 1;
  }
  51%,
  100% {
    opacity: 0.3;
  }
}

.medical-blink {
  animation: medical-blink 1s ease-in-out infinite;
}

/* Enhanced Hover Animations for Medical Elements */
.medical-hover-scale {
  transition: transform 0.2s ease-in-out;
}

.medical-hover-scale:hover {
  transform: scale(1.05);
}

.medical-hover-lift {
  transition:
    transform 0.2s ease-in-out,
    box-shadow 0.2s ease-in-out;
}

.medical-hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15);
}

/* Medical Focus Styles for Accessibility */
.medical-focus {
  transition: all 0.2s ease-in-out;
}

.medical-focus:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
}

/* Medical Card Animations */
.medical-card-enter {
  animation: medical-card-slide-in 0.3s ease-out;
}

@keyframes medical-card-slide-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Medical Loading Spinner */
@keyframes medical-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.medical-spinner {
  animation: medical-spin 1s linear infinite;
  border: 2px solid var(--color-primary-light);
  border-top: 2px solid var(--color-primary);
  border-radius: 50%;
  width: 20px;
  height: 20px;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .medical-heartbeat,
  .medical-breathe,
  .medical-pulse,
  .medical-glow,
  .medical-blink,
  .medical-spinner {
    animation: none;
  }

  .medical-hover-scale:hover,
  .medical-hover-lift:hover {
    transform: none;
  }
}
